{"ast":null,"code":"import _regeneratorRuntime from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yukinoshita/Documents/github projet perso/portfoliov2/src/Page.js\";\nimport React, { Component } from 'react';\n\nfunction sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\n\nvar Page =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Page, _Component);\n\n  function Page(props) {\n    var _this;\n\n    _classCallCheck(this, Page);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Page).call(this, props));\n    _this.state = {\n      shouldRenderChildren: true\n    };\n    return _this;\n  }\n\n  _createClass(Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.eventer.register(function () {\n        return _this2.move();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this3 = this;\n\n      this.props.eventer.unregister(function () {\n        return _this3.move();\n      });\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      if (this.props.left < 0) {\n        return false;\n      }\n\n      if (this.props.left >= window.innerWidth) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"move\",\n    value: function move() {\n      if (this.props.left !== this.props.from) {\n        this.setState({\n          shouldRenderChildren: true\n        });\n      }\n\n      this.reRender();\n    }\n  }, {\n    key: \"reRender\",\n    value: function () {\n      var _reRender = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return sleep(1000);\n\n              case 2:\n                this.setState({\n                  shouldRenderChildren: this.isVisible()\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function reRender() {\n        return _reRender.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          width: '100vw',\n          height: '100%',\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          transform: 'translateX(' + this.props.left + 'px)',\n          animationTimingFunction: 'ease-in',\n          zIndex: -20,\n          transition: 'transform .8s ease-in-out'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \" \", this.state.shouldRenderChildren && this.props.children);\n    }\n  }]);\n\n  return Page;\n}(Component);\n\nexport default Page;","map":{"version":3,"sources":["/home/yukinoshita/Documents/github projet perso/portfoliov2/src/Page.js"],"names":["React","Component","sleep","ms","Promise","resolve","setTimeout","Page","props","state","shouldRenderChildren","eventer","register","move","unregister","left","window","innerWidth","from","setState","reRender","isVisible","width","height","position","top","transform","animationTimingFunction","zIndex","transition","children"],"mappings":";;;;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,SAASC,KAAT,CAAeC,EAAf,EAAmB;AACf,SAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO;AAAA,WAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAd;AAAA,GAAnB,CAAP;AACH;;IAEKI,I;;;;;AAEF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,oBAAoB,EAAE;AAAvB,KAAb;AAFe;AAGlB;;;;wCAEmB;AAAA;;AAChB,WAAKF,KAAL,CAAWG,OAAX,CAAmBC,QAAnB,CAA4B;AAAA,eAAM,MAAI,CAACC,IAAL,EAAN;AAAA,OAA5B;AACH;;;2CAEsB;AAAA;;AACnB,WAAKL,KAAL,CAAWG,OAAX,CAAmBG,UAAnB,CAA8B;AAAA,eAAM,MAAI,CAACD,IAAL,EAAN;AAAA,OAA9B;AACH;;;gCAEW;AACR,UAAI,KAAKL,KAAL,CAAWO,IAAX,GAAkB,CAAtB,EAAyB;AACrB,eAAO,KAAP;AACH;;AACD,UAAI,KAAKP,KAAL,CAAWO,IAAX,IAAmBC,MAAM,CAACC,UAA9B,EAA0C;AACtC,eAAO,KAAP;AACH;;AACD,aAAO,IAAP;AACH;;;2BAEM;AACH,UAAI,KAAKT,KAAL,CAAWO,IAAX,KAAoB,KAAKP,KAAL,CAAWU,IAAnC,EAAyC;AACrC,aAAKC,QAAL,CAAc;AAAET,UAAAA,oBAAoB,EAAE;AAAxB,SAAd;AACH;;AACD,WAAKU,QAAL;AACH;;;;;;;;;;;;uBAGSlB,KAAK,CAAC,IAAD,C;;;AACX,qBAAKiB,QAAL,CAAc;AAACT,kBAAAA,oBAAoB,EAAE,KAAKW,SAAL;AAAvB,iBAAd;;;;;;;;;;;;;;;;6BAGK;AACL,aACI;AACI,QAAA,KAAK,EAAE;AACHC,UAAAA,KAAK,EAAE,OADJ;AAEHC,UAAAA,MAAM,EAAE,MAFL;AAGHC,UAAAA,QAAQ,EAAE,OAHP;AAIHC,UAAAA,GAAG,EAAE,CAJF;AAKHV,UAAAA,IAAI,EAAE,CALH;AAMHW,UAAAA,SAAS,EAAE,gBAAe,KAAKlB,KAAL,CAAWO,IAA1B,GAAiC,KANzC;AAOHY,UAAAA,uBAAuB,EAAE,SAPtB;AAQHC,UAAAA,MAAM,EAAE,CAAC,EARN;AASHC,UAAAA,UAAU,EAAE;AATT,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAWS,KAAKpB,KAAL,CAAWC,oBAAX,IACT,KAAKF,KAAL,CAAWsB,QAZX,CADJ;AAkBH;;;;EAxDc7B,S;;AA4DnB,eAAeM,IAAf","sourcesContent":["\nimport React, { Component } from 'react';\n\nfunction sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nclass Page extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {shouldRenderChildren: true};\n    }\n\n    componentDidMount() {\n        this.props.eventer.register(() => this.move());\n    }\n\n    componentWillUnmount() {\n        this.props.eventer.unregister(() => this.move());\n    }\n\n    isVisible() {\n        if (this.props.left < 0) {\n            return false;\n        }\n        if (this.props.left >= window.innerWidth) {\n            return false;\n        }\n        return true;\n    }\n\n    move() {\n        if (this.props.left !== this.props.from) {\n            this.setState({ shouldRenderChildren: true });\n        }\n        this.reRender();\n    }\n\n    async reRender() {\n        await sleep(1000);\n        this.setState({shouldRenderChildren: this.isVisible()});\n    }\n\n    render() {\n        return (\n            <div\n                style={{\n                    width: '100vw',\n                    height: '100%',\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    transform: 'translateX('+ this.props.left + 'px)',\n                    animationTimingFunction: 'ease-in',\n                    zIndex: -20,\n                    transition: 'transform .8s ease-in-out'\n                }}> {this.state.shouldRenderChildren &&\n            this.props.children\n            }\n            </div>\n        );\n\n    }\n\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}