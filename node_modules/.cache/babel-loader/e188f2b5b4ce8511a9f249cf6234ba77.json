{"ast":null,"code":"import _classCallCheck from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yukinoshita/Documents/github projet perso/portfoliov2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yukinoshita/Documents/github projet perso/portfoliov2/src/Nav.js\";\nimport React, { Component } from 'react';\n\nvar Nav =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Nav, _Component);\n\n  function Nav(props) {\n    var _this;\n\n    _classCallCheck(this, Nav);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Nav).call(this, props));\n    _this.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    var left = props.children.map(function (o) {\n      return _this.width;\n    });\n\n    if (left.length > 0) {\n      left[0] = 0;\n    }\n\n    _this.state = {\n      page: 0,\n      left: left,\n      from: left\n    };\n    _this.pages = {};\n    _this.eventer = new MoveEvent();\n    return _this;\n  }\n\n  _createClass(Nav, [{\n    key: \"move\",\n    value: function move(page) {\n      var left = this.state.left.slice();\n      var from = left.slice();\n\n      if (page >= left.length) {\n        page = 0;\n      }\n\n      for (var i = 0; i < left.length; i++) {\n        if (i < page) {\n          left[i] = -this.width;\n        } else if (i === page) {\n          left[i] = 0;\n        } else {\n          left[i] = this.width;\n        }\n      }\n\n      this.setState({\n        left: left,\n        page: page,\n        from: from\n      });\n      this.eventer.fire();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.move(this.pages[window.location.hash.slice(1)]);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      window.onhashchange = function (e) {\n        var i = e.newURL.indexOf('#');\n        var hash = e.newURL.slice(i + 1);\n\n        _this2.move(_this2.pages[hash]);\n\n        _this2.eventer.fire();\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var pageElements = React.Children.map(this.props.children, function (page, idx) {\n        var element = React.cloneElement(page, {\n          left: _this3.state.left[idx],\n          from: _this3.state.from[idx],\n          eventer: _this3.eventer\n        });\n        _this3.pages[element.props.path.slice(1)] = idx;\n        return element;\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, pageElements);\n    }\n  }]);\n\n  return Nav;\n}(Component);\n\nvar MoveEvent =\n/*#__PURE__*/\nfunction () {\n  function MoveEvent() {\n    _classCallCheck(this, MoveEvent);\n\n    this.listeners = [];\n  }\n\n  _createClass(MoveEvent, [{\n    key: \"register\",\n    value: function register(f) {\n      this.listeners.push(f);\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(f) {\n      this.listeners.splice(this.listeners.indexOf(f), 1);\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(params) {\n      this.listeners.forEach(function (listener) {\n        listener(params);\n      });\n    }\n  }]);\n\n  return MoveEvent;\n}();\n\nexport default Nav;","map":{"version":3,"sources":["/home/yukinoshita/Documents/github projet perso/portfoliov2/src/Nav.js"],"names":["React","Component","Nav","props","width","window","innerWidth","document","documentElement","clientWidth","body","left","children","map","o","length","state","page","from","pages","eventer","MoveEvent","slice","i","setState","fire","move","location","hash","onhashchange","e","newURL","indexOf","pageElements","Children","idx","element","cloneElement","path","listeners","f","push","splice","params","forEach","listener"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass Nav extends Component {\n\n    constructor(props) {\n        super(props);\n        this.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n        let left = props.children.map(o => this.width);\n        if (left.length > 0 ) {\n            left[0] = 0;\n        }\n        this.state = {page: 0, left: left, from: left};\n        this.pages = {};\n        this.eventer = new MoveEvent();\n    }\n\n    move(page) {\n        const left = this.state.left.slice();\n        const from = left.slice();\n        if (page >= left.length) {\n            page = 0;\n        }\n        for (let i = 0; i < left.length; i++ ) {\n            if (i < page) {\n                left[i] = -this.width;\n            } else if (i === page) {\n                left[i] = 0;\n            } else {\n                left[i] = this.width;\n            }\n        }\n        this.setState({left: left, page: page, from: from});\n        this.eventer.fire();\n    }\n\n    componentDidMount() {\n        this.move(this.pages[window.location.hash.slice(1)]);\n    }\n\n    componentWillMount() {\n        window.onhashchange = (e) => {\n            const i = e.newURL.indexOf('#');\n            const hash = e.newURL.slice(i + 1);\n            this.move(this.pages[hash]);\n            this.eventer.fire();\n        };\n    }\n\n\n    render() {\n        const pageElements = React.Children.map(this.props.children, (page, idx) => {\n            const element = React.cloneElement(page, { left: this.state.left[idx], from: this.state.from[idx], eventer:this.eventer });\n            this.pages[element.props.path.slice(1)] = idx;\n            return element;\n        });\n        return (\n            <div>\n                {pageElements}\n            </div>\n        );\n    }\n\n}\n\nclass MoveEvent {\n\n    constructor() {\n        this.listeners = [];\n    }\n\n    register(f) {\n        this.listeners.push(f);\n    }\n\n    unregister(f) {\n        this.listeners.splice(this.listeners.indexOf(f), 1);\n    }\n\n    fire(params) {\n        this.listeners.forEach((listener) => {\n            listener(params);\n        });\n\n    }\n}\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}